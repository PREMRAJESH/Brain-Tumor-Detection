<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Brain Tumor Detection - AI Powered MRI Analysis</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="logo">
                    <svg width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z" fill="currentColor"/>
                        <circle cx="12" cy="12" r="3" fill="currentColor"/>
                    </svg>
                    <h1>Brain Tumor Detection</h1>
                </div>
                <p class="subtitle">AI-Powered MRI Scan Analysis</p>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Upload Section -->
            <div class="upload-section">
                <div class="upload-card">
                    <h2>Upload MRI Scan</h2>
                    <p class="upload-description">Upload a brain MRI scan to detect potential tumors</p>
                    
                    <div class="upload-area" id="uploadArea">
                        <input type="file" id="fileInput" accept="image/png, image/jpeg, image/jpg" hidden>
                        <div class="upload-content">
                            <svg class="upload-icon" width="64" height="64" viewBox="0 0 24 24" fill="none">
                                <path d="M19 13V19H5V13H3V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V13H19Z" fill="currentColor"/>
                                <path d="M13 5.83L15.59 8.42L17 7L12 2L7 7L8.41 8.42L11 5.83V15H13V5.83Z" fill="currentColor"/>
                            </svg>
                            <p class="upload-text">Drag & drop your MRI scan here</p>
                            <p class="upload-subtext">or</p>
                            <button class="upload-button" onclick="document.getElementById('fileInput').click()">
                                Browse Files
                            </button>
                            <p class="upload-hint">Supported formats: JPG, PNG, JPEG (Max 16MB)</p>
                        </div>
                    </div>

                    <div class="image-preview" id="imagePreview" style="display: none;">
                        <img id="previewImg" src="" alt="Preview">
                        <button class="remove-image" id="removeImage">Ã—</button>
                    </div>

                    <button class="analyze-button" id="analyzeButton" disabled>
                        <span class="button-text">Analyze Scan</span>
                        <span class="button-loader" style="display: none;">
                            <span class="loader"></span> Analyzing...
                        </span>
                    </button>
                </div>
            </div>

            <!-- Results Section -->
            <div class="results-section" id="resultsSection" style="display: none;">
                <div class="results-card">
                    <h2>Analysis Results</h2>
                    
                    <div class="result-main">
                        <div class="result-icon" id="resultIcon">
                            <!-- Icon will be added via JS -->
                        </div>
                        <h3 class="result-diagnosis" id="resultDiagnosis">-</h3>
                        <div class="confidence-score">
                            <span class="confidence-label">Confidence Score</span>
                            <span class="confidence-value" id="confidenceValue">-</span>
                        </div>
                        <div class="confidence-bar">
                            <div class="confidence-fill" id="confidenceFill" style="width: 0%"></div>
                        </div>
                    </div>

                    <div class="detailed-results">
                        <h4>Detailed Probabilities</h4>
                        <div class="probability-list" id="probabilityList">
                            <!-- Probabilities will be added via JS -->
                        </div>
                    </div>

                    <div class="disclaimer">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                            <path d="M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z" fill="currentColor"/>
                        </svg>
                        <p><strong>Medical Disclaimer:</strong> This tool is for educational and research purposes only. Always consult with qualified medical professionals for actual diagnosis and treatment.</p>
                    </div>

                    <button class="new-scan-button" id="newScanButton">
                        Analyze Another Scan
                    </button>
                </div>
            </div>

            <!-- Error Message -->
            <div class="error-message" id="errorMessage" style="display: none;">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z" fill="currentColor"/>
                </svg>
                <span id="errorText">An error occurred</span>
            </div>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <p>Powered by TensorFlow & EfficientNetB0 | Built for Medical AI Research</p>
        </footer>
    </div>

    <script src="/static/script.js"></script>
</body>
</html>
